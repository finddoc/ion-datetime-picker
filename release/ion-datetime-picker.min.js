!function(){"use strict";angular.module("ion-datetime-picker",["ionic"]).directive("ionDatetimePicker",function(){return{restrict:"AE",require:"ngModel",scope:{modelDate:"=ngModel",title:"=",subTitle:"=",buttonOk:"=",buttonCancel:"=",minsInterval:"="},controller:["$rootScope","$scope","$ionicPopup","$ionicPickerI18n","$timeout",function(e,n,t,i,o){n.i18n=i,n.bind={},n.rows=[0,1,2,3,4,5],n.cols=[1,2,3,4,5,6,7],n.weekdays=[0,1,2,3,4,5,6],n.showPopup=function(){t.show({templateUrl:"picker-popup.html",title:n.title||"Pick "+(n.dateEnabled?"a date":"")+(n.dateEnabled&&n.timeEnabled?" and ":"")+(n.timeEnabled?"a time":""),subTitle:n.subTitle||"",scope:n,buttons:[{text:n.buttonOk||n.i18n.ok,type:"button-positive",onTap:function(){n.commit()}},{text:n.buttonCancel||n.i18n.cancel,type:"button-stable",onTap:function(){o(function(){n.processModel()},200)}}]})},n.prepare=function(){n.mondayFirst&&n.weekdays.push(n.weekdays.shift())},n.processModel=function(){var e=n.modelDate instanceof Date?n.modelDate:new Date;n.year=n.dateEnabled?e.getFullYear():0,n.month=n.dateEnabled?e.getMonth():0,n.day=n.dateEnabled?e.getDate():0,n.hour=n.timeEnabled?e.getHours():0,n.minute=n.timeEnabled?e.getMinutes():0,n.second=n.secondsEnabled?e.getSeconds():0,a()};var a=function(){var e=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second);n.dateEnabled&&(n.year=e.getFullYear(),n.month=e.getMonth(),n.day=e.getDate(),n.bind.year=n.year,n.bind.month=n.month.toString(),n.firstDay=new Date(n.year,n.month,1).getDay(),n.mondayFirst&&(n.firstDay=(n.firstDay||7)-1),n.daysInMonth=new Date(n.year,n.month+1,0).getDate(),n.day>n.daysInMonth&&(n.day=n.daysInMonth)),n.timeEnabled&&(n.hour=e.getHours(),n.minute=e.getMinutes(),n.second=e.getSeconds(),n.meridiem=n.hour<12?"AM":"PM",n.bind.hour=n.meridiemEnabled?(n.hour%12||12).toString():n.hour.toString(),n.bind.minute=(n.minute<10?"0":"")+n.minute.toString(),n.bind.second=(n.second<10?"0":"")+n.second.toString(),n.bind.meridiem=n.meridiem)};n.changeBy=function(e,t){if(+e){if(("hour"===t||"minute"===t)&&-1===e){var i=new Date(n.year,n.month,n.day,n.hour-1,n.minute);0!==n.minute&&"hour"!==t||n.hour!==i.getHours()||n.hour--}n[t]+=+e,a()}},n.change=function(e){var t=n.bind[e];t&&"meridiem"===e?(t=t.toUpperCase(),"AM"===t&&"PM"===n.meridiem?n.hour-=12:"PM"===t&&"AM"===n.meridiem&&(n.hour+=12),a()):(+t||"0"===t)&&(n[e]=+t,a())},n.changeDay=function(e){n.day=e,a()},n.changed=function(){a()},n.dateEnabled&&n.$watch(function(){return(new Date).getDate()},function(){var e=new Date;n.today={day:e.getDate(),month:e.getMonth(),year:e.getFullYear()}})}],link:function(e,n,t,i){e.dateEnabled="date"in t&&"false"!==t.date,e.timeEnabled="time"in t&&"false"!==t.time,e.dateEnabled===!1&&e.timeEnabled===!1&&(e.dateEnabled=e.timeEnabled=!0),e.mondayFirst="mondayFirst"in t&&"false"!==t.mondayFirst,e.secondsEnabled=e.timeEnabled&&"seconds"in t&&"false"!==t.seconds,e.meridiemEnabled=e.timeEnabled&&"amPm"in t&&"false"!==t.amPm,e.prepare(),i.$render=function(){e.modelDate=i.$viewValue,e.processModel()},e.commit=function(){e.modelDate=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second),i.$setViewValue(e.modelDate)},n.on("click",e.showPopup)}}}),angular.module("ion-datetime-picker").factory("$ionicPickerI18n",["$window",function(e){return{ok:"OK",cancel:"Cancel",weekdays:e.moment?e.moment.weekdaysMin():["Su","Mo","Tu","We","Th","Fr","Sa"],months:e.moment?e.moment.months():["January","February","March","April","May","June","July","August","September","October","November","December"]}}]),angular.module("ion-datetime-picker").run(["$templateCache",function(e){e.put("picker-popup.html",'<div class="ion-datetime-picker"><div ng-if-start="dateEnabled" class="row month-year"><div class="col col-10 left-arrow"><button class="button button-small button-positive button-clear icon ion-chevron-left" ng-click="changeBy(-1, \'month\')"></button></div><label class="col col-50 month-input"><div class="item item-input item-select"><select ng-model="bind.month" ng-options="index as month for (index, month) in i18n.months" ng-change="change(\'month\')"></select></div></label> <label class="col year-input"><div class="item item-input"><input type="number" ng-model="bind.year" min="1900" max="2999" ng-change="change(\'year\')" ng-blur="changed()" required=""></div></label><div class="col col-10 right-arrow"><button class="button button-small button-positive button-clear icon ion-chevron-right" ng-click="changeBy(+1, \'month\')"></button></div></div><div class="row calendar weekdays"><div class="col" ng-repeat="weekday in weekdays"><div class="weekday">{{i18n.weekdays[weekday]}}</div></div></div><div ng-if-end="" class="row calendar days" ng-repeat="y in rows"><div class="col" ng-repeat="x in cols"><div ng-show="(cellDay = y * 7 + x - firstDay) > 0 && cellDay <= daysInMonth" ng-click="changeDay(cellDay)" class="day" ng-class="{\'selected\': cellDay === day, \'today\': cellDay === today.day && month === today.month && year === today.year}">{{cellDay}}</div></div></div><div ng-if-start="timeEnabled" class="row time-buttons"><div class="col"></div><div class="col-20"><button class="button button-positive button-clear icon ion-chevron-up" ng-click="changeBy(+1, \'hour\')"></button></div><div class="col"></div><div class="col-20"><button class="button button-positive button-clear icon ion-chevron-up" ng-click="changeBy(+minsInterval, \'minute\')"></button></div><div ng-if-start="secondsEnabled" class="col"></div><div ng-if-end="" class="col-20"><button class="button button-positive button-clear icon ion-chevron-up" ng-click="changeBy(+1, \'second\')"></button></div><div ng-if-start="meridiemEnabled" class="col"></div><div ng-if-end="" class="col-20"><button class="button button-positive button-clear icon ion-chevron-up" ng-click="changeBy(+12, \'hour\')"></button></div><div class="col"></div></div><div class="row time"><div class="col"></div><label class="col col-20"><div class="item item-input"><input type="text" ng-model="bind.hour" pattern="0?([01]?[0-9]|2[0-3])" ng-change="change(\'hour\')" ng-blur="changed()" required=""></div></label><div class="col colon">:</div><label class="col col-20"><div class="item item-input"><input type="text" ng-model="bind.minute" pattern="0?[0-5]?[0-9]" ng-change="change(\'minute\')" ng-blur="changed()" required=""></div></label><div ng-if-start="secondsEnabled" class="col colon">:</div><label ng-if-end="" class="col col-20"><div class="item item-input"><input type="text" ng-model="bind.second" pattern="0?[0-5]?[0-9]" ng-change="change(\'second\')" ng-blur="changed()" required=""></div></label><div ng-if-start="meridiemEnabled" class="col"></div><label ng-if-end="" class="col col-20"><div class="item item-input"><input type="text" ng-model="bind.meridiem" pattern="[aApP][mM]" ng-change="change(\'meridiem\')" ng-blur="changed()" required=""></div></label><div class="col"></div></div><div ng-if-end="" class="row time-buttons"><div class="col"></div><div class="col-20"><button class="button button-positive button-clear icon ion-chevron-down" ng-click="changeBy(-1, \'hour\')"></button></div><div class="col"></div><div class="col-20"><button class="button button-positive button-clear icon ion-chevron-down" ng-click="changeBy(-minsInterval, \'minute\')"></button></div><div ng-if-start="secondsEnabled" class="col"></div><div ng-if-end="" class="col-20"><button class="button button-positive button-clear icon ion-chevron-down" ng-click="changeBy(-1, \'second\')"></button></div><div ng-if-start="meridiemEnabled" class="col"></div><div ng-if-end="" class="col-20"><button class="button button-positive button-clear icon ion-chevron-down" ng-click="changeBy(-12, \'hour\')"></button></div><div class="col"></div></div></div>')}])}();